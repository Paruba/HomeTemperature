@attribute [Route(Boiler.Mobile.Shared.Routes.User.LoginBase)]
@inherits FluxorPage;
@using Boiler.Mobile.Framework.Fluxor

<MudPaper Elevation="3" Class="mt-4 p-4">
    <MudContainer Class="text-center">
        <MudAvatar Color="Color.Primary" Variant="Variant.Outlined" Size="Size.Large">
            <MudIcon Size="Size.Large" Icon="@Icons.Material.Filled.AccountCircle" />
        </MudAvatar>
        <MudText Typo="Typo.h6" GutterBottom="true">Login</MudText>
    </MudContainer>
    <EditForm EditContext="_editContext" OnValidSubmit="OnValidSubmit">
        <DataAnnotationsValidator />
        <MudTextField Label="@DisplayModel(() => _loginForm.Username)"
                      @bind-Value="_loginForm.Username" For="@(() => _loginForm.Username)" FullWidth="true" Required="true" />
        <MudTextField Label="@DisplayModel(() => _loginForm.Password)" Class="mt-3"
                      @bind-Value="_loginForm.Password" For="@(() => _loginForm.Password)" InputType="InputType.Password" FullWidth="true" Required="true" />
        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="mt-2">Login</MudButton>
    </EditForm>
</MudPaper>

@if (!string.IsNullOrEmpty(errorMessage))
{
    <MudAlert Severity="Severity.Error" Square="true" Class="my-2">@errorMessage</MudAlert>
}